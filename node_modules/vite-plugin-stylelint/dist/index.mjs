import {createRequire as __createRequire} from 'module';var require=__createRequire(import.meta.url);
var me=Object.create;var Lt=Object.defineProperty;var xe=Object.getOwnPropertyDescriptor;var _e=Object.getOwnPropertyNames;var Ae=Object.getPrototypeOf,Re=Object.prototype.hasOwnProperty;var st=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(r,e)=>(typeof require<"u"?require:r)[e]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var Se=(t,r)=>()=>(t&&(r=t(t=0)),r);var rt=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports);var be=(t,r,e,c)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of _e(r))!Re.call(t,i)&&i!==e&&Lt(t,i,{get:()=>r[i],enumerable:!(c=xe(r,i))||c.enumerable});return t};var ft=(t,r,e)=>(e=t!=null?me(Ae(t)):{},be(r||!t||!t.__esModule?Lt(e,"default",{value:t,enumerable:!0}):e,t));var T=Se(()=>{});var it=rt((Sr,Nt)=>{"use strict";T();var Ee=st("path"),V="\\\\/",Tt=`[^${V}]`,W="\\.",de="\\+",$e="\\?",ht="\\/",Ce="(?=.)",wt="[^/]",_t=`(?:${ht}|$)`,kt=`(?:^|${ht})`,At=`${W}{1,2}${_t}`,ve=`(?!${W})`,Oe=`(?!${kt}${At})`,He=`(?!${W}{0,1}${_t})`,Le=`(?!${At})`,Te=`[^.${ht}]`,we=`${wt}*?`,It={DOT_LITERAL:W,PLUS_LITERAL:de,QMARK_LITERAL:$e,SLASH_LITERAL:ht,ONE_CHAR:Ce,QMARK:wt,END_ANCHOR:_t,DOTS_SLASH:At,NO_DOT:ve,NO_DOTS:Oe,NO_DOT_SLASH:He,NO_DOTS_SLASH:Le,QMARK_NO_DOT:Te,STAR:we,START_ANCHOR:kt},ke={...It,SLASH_LITERAL:`[${V}]`,QMARK:Tt,STAR:`${Tt}*?`,DOTS_SLASH:`${W}{1,2}(?:[${V}]|$)`,NO_DOT:`(?!${W})`,NO_DOTS:`(?!(?:^|[${V}])${W}{1,2}(?:[${V}]|$))`,NO_DOT_SLASH:`(?!${W}{0,1}(?:[${V}]|$))`,NO_DOTS_SLASH:`(?!${W}{1,2}(?:[${V}]|$))`,QMARK_NO_DOT:`[^.${V}]`,START_ANCHOR:`(?:^|[${V}])`,END_ANCHOR:`(?:[${V}]|$)`},Ie={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};Nt.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:Ie,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:Ee.sep,extglobChars(t){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?ke:It}}});var gt=rt(B=>{"use strict";T();var Ne=st("path"),Pe=process.platform==="win32",{REGEX_BACKSLASH:De,REGEX_REMOVE_BACKSLASH:Me,REGEX_SPECIAL_CHARS:Fe,REGEX_SPECIAL_CHARS_GLOBAL:Be}=it();B.isObject=t=>t!==null&&typeof t=="object"&&!Array.isArray(t);B.hasRegexChars=t=>Fe.test(t);B.isRegexChar=t=>t.length===1&&B.hasRegexChars(t);B.escapeRegex=t=>t.replace(Be,"\\$1");B.toPosixSlashes=t=>t.replace(De,"/");B.removeBackslashes=t=>t.replace(Me,r=>r==="\\"?"":r);B.supportsLookbehinds=()=>{let t=process.version.slice(1).split(".").map(Number);return t.length===3&&t[0]>=9||t[0]===8&&t[1]>=10};B.isWindows=t=>t&&typeof t.windows=="boolean"?t.windows:Pe===!0||Ne.sep==="\\";B.escapeLast=(t,r,e)=>{let c=t.lastIndexOf(r,e);return c===-1?t:t[c-1]==="\\"?B.escapeLast(t,r,c-1):`${t.slice(0,c)}\\${t.slice(c)}`};B.removePrefix=(t,r={})=>{let e=t;return e.startsWith("./")&&(e=e.slice(2),r.prefix="./"),e};B.wrapOutput=(t,r={},e={})=>{let c=e.contains?"":"^",i=e.contains?"":"$",p=`${c}(?:${t})${i}`;return r.negated===!0&&(p=`(?:^(?!${p}).*$)`),p}});var Kt=rt(($r,Ut)=>{"use strict";T();var Pt=gt(),{CHAR_ASTERISK:Rt,CHAR_AT:Ge,CHAR_BACKWARD_SLASH:ut,CHAR_COMMA:Ue,CHAR_DOT:St,CHAR_EXCLAMATION_MARK:bt,CHAR_FORWARD_SLASH:Gt,CHAR_LEFT_CURLY_BRACE:Et,CHAR_LEFT_PARENTHESES:dt,CHAR_LEFT_SQUARE_BRACKET:Ke,CHAR_PLUS:qe,CHAR_QUESTION_MARK:Dt,CHAR_RIGHT_CURLY_BRACE:Xe,CHAR_RIGHT_PARENTHESES:Mt,CHAR_RIGHT_SQUARE_BRACKET:Qe}=it(),Ft=t=>t===Gt||t===ut,Bt=t=>{t.isPrefix!==!0&&(t.depth=t.isGlobstar?1/0:1)},ze=(t,r)=>{let e=r||{},c=t.length-1,i=e.parts===!0||e.scanToEnd===!0,p=[],a=[],h=[],f=t,x=-1,y=0,A=0,L=!1,P=!1,b=!1,O=!1,J=!1,q=!1,K=!1,H=!1,X=!1,N=!1,j=0,D,g,S={value:"",depth:0,isGlob:!1},I=()=>x>=c,o=()=>f.charCodeAt(x+1),$=()=>(D=g,f.charCodeAt(++x));for(;x<c;){g=$();let M;if(g===ut){K=S.backslashes=!0,g=$(),g===Et&&(q=!0);continue}if(q===!0||g===Et){for(j++;I()!==!0&&(g=$());){if(g===ut){K=S.backslashes=!0,$();continue}if(g===Et){j++;continue}if(q!==!0&&g===St&&(g=$())===St){if(L=S.isBrace=!0,b=S.isGlob=!0,N=!0,i===!0)continue;break}if(q!==!0&&g===Ue){if(L=S.isBrace=!0,b=S.isGlob=!0,N=!0,i===!0)continue;break}if(g===Xe&&(j--,j===0)){q=!1,L=S.isBrace=!0,N=!0;break}}if(i===!0)continue;break}if(g===Gt){if(p.push(x),a.push(S),S={value:"",depth:0,isGlob:!1},N===!0)continue;if(D===St&&x===y+1){y+=2;continue}A=x+1;continue}if(e.noext!==!0&&(g===qe||g===Ge||g===Rt||g===Dt||g===bt)===!0&&o()===dt){if(b=S.isGlob=!0,O=S.isExtglob=!0,N=!0,g===bt&&x===y&&(X=!0),i===!0){for(;I()!==!0&&(g=$());){if(g===ut){K=S.backslashes=!0,g=$();continue}if(g===Mt){b=S.isGlob=!0,N=!0;break}}continue}break}if(g===Rt){if(D===Rt&&(J=S.isGlobstar=!0),b=S.isGlob=!0,N=!0,i===!0)continue;break}if(g===Dt){if(b=S.isGlob=!0,N=!0,i===!0)continue;break}if(g===Ke){for(;I()!==!0&&(M=$());){if(M===ut){K=S.backslashes=!0,$();continue}if(M===Qe){P=S.isBracket=!0,b=S.isGlob=!0,N=!0;break}}if(i===!0)continue;break}if(e.nonegate!==!0&&g===bt&&x===y){H=S.negated=!0,y++;continue}if(e.noparen!==!0&&g===dt){if(b=S.isGlob=!0,i===!0){for(;I()!==!0&&(g=$());){if(g===dt){K=S.backslashes=!0,g=$();continue}if(g===Mt){N=!0;break}}continue}break}if(b===!0){if(N=!0,i===!0)continue;break}}e.noext===!0&&(O=!1,b=!1);let E=f,tt="",s="";y>0&&(tt=f.slice(0,y),f=f.slice(y),A-=y),E&&b===!0&&A>0?(E=f.slice(0,A),s=f.slice(A)):b===!0?(E="",s=f):E=f,E&&E!==""&&E!=="/"&&E!==f&&Ft(E.charCodeAt(E.length-1))&&(E=E.slice(0,-1)),e.unescape===!0&&(s&&(s=Pt.removeBackslashes(s)),E&&K===!0&&(E=Pt.removeBackslashes(E)));let n={prefix:tt,input:t,start:y,base:E,glob:s,isBrace:L,isBracket:P,isGlob:b,isExtglob:O,isGlobstar:J,negated:H,negatedExtglob:X};if(e.tokens===!0&&(n.maxDepth=0,Ft(g)||a.push(S),n.tokens=a),e.parts===!0||e.tokens===!0){let M;for(let R=0;R<p.length;R++){let Q=M?M+1:y,z=p[R],G=t.slice(Q,z);e.tokens&&(R===0&&y!==0?(a[R].isPrefix=!0,a[R].value=tt):a[R].value=G,Bt(a[R]),n.maxDepth+=a[R].depth),(R!==0||G!=="")&&h.push(G),M=z}if(M&&M+1<t.length){let R=t.slice(M+1);h.push(R),e.tokens&&(a[a.length-1].value=R,Bt(a[a.length-1]),n.maxDepth+=a[a.length-1].depth)}n.slashes=p,n.parts=h}return n};Ut.exports=ze});var Qt=rt((vr,Xt)=>{"use strict";T();var yt=it(),U=gt(),{MAX_LENGTH:mt,POSIX_REGEX_SOURCE:Ve,REGEX_NON_SPECIAL_CHARS:We,REGEX_SPECIAL_CHARS_BACKREF:Ze,REPLACEMENTS:qt}=yt,Ye=(t,r)=>{if(typeof r.expandRange=="function")return r.expandRange(...t,r);t.sort();let e=`[${t.join("-")}]`;try{new RegExp(e)}catch{return t.map(i=>U.escapeRegex(i)).join("..")}return e},nt=(t,r)=>`Missing ${t}: "${r}" - use "\\\\${r}" to match literal characters`,$t=(t,r)=>{if(typeof t!="string")throw new TypeError("Expected a string");t=qt[t]||t;let e={...r},c=typeof e.maxLength=="number"?Math.min(mt,e.maxLength):mt,i=t.length;if(i>c)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${c}`);let p={type:"bos",value:"",output:e.prepend||""},a=[p],h=e.capture?"":"?:",f=U.isWindows(r),x=yt.globChars(f),y=yt.extglobChars(x),{DOT_LITERAL:A,PLUS_LITERAL:L,SLASH_LITERAL:P,ONE_CHAR:b,DOTS_SLASH:O,NO_DOT:J,NO_DOT_SLASH:q,NO_DOTS_SLASH:K,QMARK:H,QMARK_NO_DOT:X,STAR:N,START_ANCHOR:j}=x,D=l=>`(${h}(?:(?!${j}${l.dot?O:A}).)*?)`,g=e.dot?"":J,S=e.dot?H:X,I=e.bash===!0?D(e):N;e.capture&&(I=`(${I})`),typeof e.noext=="boolean"&&(e.noextglob=e.noext);let o={input:t,index:-1,start:0,dot:e.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:a};t=U.removePrefix(t,o),i=t.length;let $=[],E=[],tt=[],s=p,n,M=()=>o.index===i-1,R=o.peek=(l=1)=>t[o.index+l],Q=o.advance=()=>t[++o.index]||"",z=()=>t.slice(o.index+1),G=(l="",d=0)=>{o.consumed+=l,o.index+=d},at=l=>{o.output+=l.output!=null?l.output:l.value,G(l.value)},ge=()=>{let l=1;for(;R()==="!"&&(R(2)!=="("||R(3)==="?");)Q(),o.start++,l++;return l%2===0?!1:(o.negated=!0,o.start++,!0)},lt=l=>{o[l]++,tt.push(l)},et=l=>{o[l]--,tt.pop()},_=l=>{if(s.type==="globstar"){let d=o.braces>0&&(l.type==="comma"||l.type==="brace"),u=l.extglob===!0||$.length&&(l.type==="pipe"||l.type==="paren");l.type!=="slash"&&l.type!=="paren"&&!d&&!u&&(o.output=o.output.slice(0,-s.output.length),s.type="star",s.value="*",s.output=I,o.output+=s.output)}if($.length&&l.type!=="paren"&&($[$.length-1].inner+=l.value),(l.value||l.output)&&at(l),s&&s.type==="text"&&l.type==="text"){s.value+=l.value,s.output=(s.output||"")+l.value;return}l.prev=s,a.push(l),s=l},ct=(l,d)=>{let u={...y[d],conditions:1,inner:""};u.prev=s,u.parens=o.parens,u.output=o.output;let m=(e.capture?"(":"")+u.open;lt("parens"),_({type:l,value:d,output:o.output?"":b}),_({type:"paren",extglob:!0,value:Q(),output:m}),$.push(u)},ye=l=>{let d=l.close+(e.capture?")":""),u;if(l.type==="negate"){let m=I;if(l.inner&&l.inner.length>1&&l.inner.includes("/")&&(m=D(e)),(m!==I||M()||/^\)+$/.test(z()))&&(d=l.close=`)$))${m}`),l.inner.includes("*")&&(u=z())&&/^\.[^\\/.]+$/.test(u)){let v=$t(u,{...r,fastpaths:!1}).output;d=l.close=`)${v})${m})`}l.prev.type==="bos"&&(o.negatedExtglob=!0)}_({type:"paren",extglob:!0,value:n,output:d}),et("parens")};if(e.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(t)){let l=!1,d=t.replace(Ze,(u,m,v,F,k,xt)=>F==="\\"?(l=!0,u):F==="?"?m?m+F+(k?H.repeat(k.length):""):xt===0?S+(k?H.repeat(k.length):""):H.repeat(v.length):F==="."?A.repeat(v.length):F==="*"?m?m+F+(k?I:""):I:m?u:`\\${u}`);return l===!0&&(e.unescape===!0?d=d.replace(/\\/g,""):d=d.replace(/\\+/g,u=>u.length%2===0?"\\\\":u?"\\":"")),d===t&&e.contains===!0?(o.output=t,o):(o.output=U.wrapOutput(d,o,r),o)}for(;!M();){if(n=Q(),n==="\0")continue;if(n==="\\"){let u=R();if(u==="/"&&e.bash!==!0||u==="."||u===";")continue;if(!u){n+="\\",_({type:"text",value:n});continue}let m=/^\\+/.exec(z()),v=0;if(m&&m[0].length>2&&(v=m[0].length,o.index+=v,v%2!==0&&(n+="\\")),e.unescape===!0?n=Q():n+=Q(),o.brackets===0){_({type:"text",value:n});continue}}if(o.brackets>0&&(n!=="]"||s.value==="["||s.value==="[^")){if(e.posix!==!1&&n===":"){let u=s.value.slice(1);if(u.includes("[")&&(s.posix=!0,u.includes(":"))){let m=s.value.lastIndexOf("["),v=s.value.slice(0,m),F=s.value.slice(m+2),k=Ve[F];if(k){s.value=v+k,o.backtrack=!0,Q(),!p.output&&a.indexOf(s)===1&&(p.output=b);continue}}}(n==="["&&R()!==":"||n==="-"&&R()==="]")&&(n=`\\${n}`),n==="]"&&(s.value==="["||s.value==="[^")&&(n=`\\${n}`),e.posix===!0&&n==="!"&&s.value==="["&&(n="^"),s.value+=n,at({value:n});continue}if(o.quotes===1&&n!=='"'){n=U.escapeRegex(n),s.value+=n,at({value:n});continue}if(n==='"'){o.quotes=o.quotes===1?0:1,e.keepQuotes===!0&&_({type:"text",value:n});continue}if(n==="("){lt("parens"),_({type:"paren",value:n});continue}if(n===")"){if(o.parens===0&&e.strictBrackets===!0)throw new SyntaxError(nt("opening","("));let u=$[$.length-1];if(u&&o.parens===u.parens+1){ye($.pop());continue}_({type:"paren",value:n,output:o.parens?")":"\\)"}),et("parens");continue}if(n==="["){if(e.nobracket===!0||!z().includes("]")){if(e.nobracket!==!0&&e.strictBrackets===!0)throw new SyntaxError(nt("closing","]"));n=`\\${n}`}else lt("brackets");_({type:"bracket",value:n});continue}if(n==="]"){if(e.nobracket===!0||s&&s.type==="bracket"&&s.value.length===1){_({type:"text",value:n,output:`\\${n}`});continue}if(o.brackets===0){if(e.strictBrackets===!0)throw new SyntaxError(nt("opening","["));_({type:"text",value:n,output:`\\${n}`});continue}et("brackets");let u=s.value.slice(1);if(s.posix!==!0&&u[0]==="^"&&!u.includes("/")&&(n=`/${n}`),s.value+=n,at({value:n}),e.literalBrackets===!1||U.hasRegexChars(u))continue;let m=U.escapeRegex(s.value);if(o.output=o.output.slice(0,-s.value.length),e.literalBrackets===!0){o.output+=m,s.value=m;continue}s.value=`(${h}${m}|${s.value})`,o.output+=s.value;continue}if(n==="{"&&e.nobrace!==!0){lt("braces");let u={type:"brace",value:n,output:"(",outputIndex:o.output.length,tokensIndex:o.tokens.length};E.push(u),_(u);continue}if(n==="}"){let u=E[E.length-1];if(e.nobrace===!0||!u){_({type:"text",value:n,output:n});continue}let m=")";if(u.dots===!0){let v=a.slice(),F=[];for(let k=v.length-1;k>=0&&(a.pop(),v[k].type!=="brace");k--)v[k].type!=="dots"&&F.unshift(v[k].value);m=Ye(F,e),o.backtrack=!0}if(u.comma!==!0&&u.dots!==!0){let v=o.output.slice(0,u.outputIndex),F=o.tokens.slice(u.tokensIndex);u.value=u.output="\\{",n=m="\\}",o.output=v;for(let k of F)o.output+=k.output||k.value}_({type:"brace",value:n,output:m}),et("braces"),E.pop();continue}if(n==="|"){$.length>0&&$[$.length-1].conditions++,_({type:"text",value:n});continue}if(n===","){let u=n,m=E[E.length-1];m&&tt[tt.length-1]==="braces"&&(m.comma=!0,u="|"),_({type:"comma",value:n,output:u});continue}if(n==="/"){if(s.type==="dot"&&o.index===o.start+1){o.start=o.index+1,o.consumed="",o.output="",a.pop(),s=p;continue}_({type:"slash",value:n,output:P});continue}if(n==="."){if(o.braces>0&&s.type==="dot"){s.value==="."&&(s.output=A);let u=E[E.length-1];s.type="dots",s.output+=n,s.value+=n,u.dots=!0;continue}if(o.braces+o.parens===0&&s.type!=="bos"&&s.type!=="slash"){_({type:"text",value:n,output:A});continue}_({type:"dot",value:n,output:A});continue}if(n==="?"){if(!(s&&s.value==="(")&&e.noextglob!==!0&&R()==="("&&R(2)!=="?"){ct("qmark",n);continue}if(s&&s.type==="paren"){let m=R(),v=n;if(m==="<"&&!U.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(s.value==="("&&!/[!=<:]/.test(m)||m==="<"&&!/<([!=]|\w+>)/.test(z()))&&(v=`\\${n}`),_({type:"text",value:n,output:v});continue}if(e.dot!==!0&&(s.type==="slash"||s.type==="bos")){_({type:"qmark",value:n,output:X});continue}_({type:"qmark",value:n,output:H});continue}if(n==="!"){if(e.noextglob!==!0&&R()==="("&&(R(2)!=="?"||!/[!=<:]/.test(R(3)))){ct("negate",n);continue}if(e.nonegate!==!0&&o.index===0){ge();continue}}if(n==="+"){if(e.noextglob!==!0&&R()==="("&&R(2)!=="?"){ct("plus",n);continue}if(s&&s.value==="("||e.regex===!1){_({type:"plus",value:n,output:L});continue}if(s&&(s.type==="bracket"||s.type==="paren"||s.type==="brace")||o.parens>0){_({type:"plus",value:n});continue}_({type:"plus",value:L});continue}if(n==="@"){if(e.noextglob!==!0&&R()==="("&&R(2)!=="?"){_({type:"at",extglob:!0,value:n,output:""});continue}_({type:"text",value:n});continue}if(n!=="*"){(n==="$"||n==="^")&&(n=`\\${n}`);let u=We.exec(z());u&&(n+=u[0],o.index+=u[0].length),_({type:"text",value:n});continue}if(s&&(s.type==="globstar"||s.star===!0)){s.type="star",s.star=!0,s.value+=n,s.output=I,o.backtrack=!0,o.globstar=!0,G(n);continue}let l=z();if(e.noextglob!==!0&&/^\([^?]/.test(l)){ct("star",n);continue}if(s.type==="star"){if(e.noglobstar===!0){G(n);continue}let u=s.prev,m=u.prev,v=u.type==="slash"||u.type==="bos",F=m&&(m.type==="star"||m.type==="globstar");if(e.bash===!0&&(!v||l[0]&&l[0]!=="/")){_({type:"star",value:n,output:""});continue}let k=o.braces>0&&(u.type==="comma"||u.type==="brace"),xt=$.length&&(u.type==="pipe"||u.type==="paren");if(!v&&u.type!=="paren"&&!k&&!xt){_({type:"star",value:n,output:""});continue}for(;l.slice(0,3)==="/**";){let pt=t[o.index+4];if(pt&&pt!=="/")break;l=l.slice(3),G("/**",3)}if(u.type==="bos"&&M()){s.type="globstar",s.value+=n,s.output=D(e),o.output=s.output,o.globstar=!0,G(n);continue}if(u.type==="slash"&&u.prev.type!=="bos"&&!F&&M()){o.output=o.output.slice(0,-(u.output+s.output).length),u.output=`(?:${u.output}`,s.type="globstar",s.output=D(e)+(e.strictSlashes?")":"|$)"),s.value+=n,o.globstar=!0,o.output+=u.output+s.output,G(n);continue}if(u.type==="slash"&&u.prev.type!=="bos"&&l[0]==="/"){let pt=l[1]!==void 0?"|$":"";o.output=o.output.slice(0,-(u.output+s.output).length),u.output=`(?:${u.output}`,s.type="globstar",s.output=`${D(e)}${P}|${P}${pt})`,s.value+=n,o.output+=u.output+s.output,o.globstar=!0,G(n+Q()),_({type:"slash",value:"/",output:""});continue}if(u.type==="bos"&&l[0]==="/"){s.type="globstar",s.value+=n,s.output=`(?:^|${P}|${D(e)}${P})`,o.output=s.output,o.globstar=!0,G(n+Q()),_({type:"slash",value:"/",output:""});continue}o.output=o.output.slice(0,-s.output.length),s.type="globstar",s.output=D(e),s.value+=n,o.output+=s.output,o.globstar=!0,G(n);continue}let d={type:"star",value:n,output:I};if(e.bash===!0){d.output=".*?",(s.type==="bos"||s.type==="slash")&&(d.output=g+d.output),_(d);continue}if(s&&(s.type==="bracket"||s.type==="paren")&&e.regex===!0){d.output=n,_(d);continue}(o.index===o.start||s.type==="slash"||s.type==="dot")&&(s.type==="dot"?(o.output+=q,s.output+=q):e.dot===!0?(o.output+=K,s.output+=K):(o.output+=g,s.output+=g),R()!=="*"&&(o.output+=b,s.output+=b)),_(d)}for(;o.brackets>0;){if(e.strictBrackets===!0)throw new SyntaxError(nt("closing","]"));o.output=U.escapeLast(o.output,"["),et("brackets")}for(;o.parens>0;){if(e.strictBrackets===!0)throw new SyntaxError(nt("closing",")"));o.output=U.escapeLast(o.output,"("),et("parens")}for(;o.braces>0;){if(e.strictBrackets===!0)throw new SyntaxError(nt("closing","}"));o.output=U.escapeLast(o.output,"{"),et("braces")}if(e.strictSlashes!==!0&&(s.type==="star"||s.type==="bracket")&&_({type:"maybe_slash",value:"",output:`${P}?`}),o.backtrack===!0){o.output="";for(let l of o.tokens)o.output+=l.output!=null?l.output:l.value,l.suffix&&(o.output+=l.suffix)}return o};$t.fastpaths=(t,r)=>{let e={...r},c=typeof e.maxLength=="number"?Math.min(mt,e.maxLength):mt,i=t.length;if(i>c)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${c}`);t=qt[t]||t;let p=U.isWindows(r),{DOT_LITERAL:a,SLASH_LITERAL:h,ONE_CHAR:f,DOTS_SLASH:x,NO_DOT:y,NO_DOTS:A,NO_DOTS_SLASH:L,STAR:P,START_ANCHOR:b}=yt.globChars(p),O=e.dot?A:y,J=e.dot?L:y,q=e.capture?"":"?:",K={negated:!1,prefix:""},H=e.bash===!0?".*?":P;e.capture&&(H=`(${H})`);let X=g=>g.noglobstar===!0?H:`(${q}(?:(?!${b}${g.dot?x:a}).)*?)`,N=g=>{switch(g){case"*":return`${O}${f}${H}`;case".*":return`${a}${f}${H}`;case"*.*":return`${O}${H}${a}${f}${H}`;case"*/*":return`${O}${H}${h}${f}${J}${H}`;case"**":return O+X(e);case"**/*":return`(?:${O}${X(e)}${h})?${J}${f}${H}`;case"**/*.*":return`(?:${O}${X(e)}${h})?${J}${H}${a}${f}${H}`;case"**/.*":return`(?:${O}${X(e)}${h})?${a}${f}${H}`;default:{let S=/^(.*?)\.(\w+)$/.exec(g);if(!S)return;let I=N(S[1]);return I?I+a+S[2]:void 0}}},j=U.removePrefix(t,K),D=N(j);return D&&e.strictSlashes!==!0&&(D+=`${h}?`),D};Xt.exports=$t});var Vt=rt((Hr,zt)=>{"use strict";T();var Je=st("path"),je=Kt(),Ct=Qt(),vt=gt(),tr=it(),er=t=>t&&typeof t=="object"&&!Array.isArray(t),w=(t,r,e=!1)=>{if(Array.isArray(t)){let y=t.map(L=>w(L,r,e));return L=>{for(let P of y){let b=P(L);if(b)return b}return!1}}let c=er(t)&&t.tokens&&t.input;if(t===""||typeof t!="string"&&!c)throw new TypeError("Expected pattern to be a non-empty string");let i=r||{},p=vt.isWindows(r),a=c?w.compileRe(t,r):w.makeRe(t,r,!1,!0),h=a.state;delete a.state;let f=()=>!1;if(i.ignore){let y={...r,ignore:null,onMatch:null,onResult:null};f=w(i.ignore,y,e)}let x=(y,A=!1)=>{let{isMatch:L,match:P,output:b}=w.test(y,a,r,{glob:t,posix:p}),O={glob:t,state:h,regex:a,posix:p,input:y,output:b,match:P,isMatch:L};return typeof i.onResult=="function"&&i.onResult(O),L===!1?(O.isMatch=!1,A?O:!1):f(y)?(typeof i.onIgnore=="function"&&i.onIgnore(O),O.isMatch=!1,A?O:!1):(typeof i.onMatch=="function"&&i.onMatch(O),A?O:!0)};return e&&(x.state=h),x};w.test=(t,r,e,{glob:c,posix:i}={})=>{if(typeof t!="string")throw new TypeError("Expected input to be a string");if(t==="")return{isMatch:!1,output:""};let p=e||{},a=p.format||(i?vt.toPosixSlashes:null),h=t===c,f=h&&a?a(t):t;return h===!1&&(f=a?a(t):t,h=f===c),(h===!1||p.capture===!0)&&(p.matchBase===!0||p.basename===!0?h=w.matchBase(t,r,e,i):h=r.exec(f)),{isMatch:Boolean(h),match:h,output:f}};w.matchBase=(t,r,e,c=vt.isWindows(e))=>(r instanceof RegExp?r:w.makeRe(r,e)).test(Je.basename(t));w.isMatch=(t,r,e)=>w(r,e)(t);w.parse=(t,r)=>Array.isArray(t)?t.map(e=>w.parse(e,r)):Ct(t,{...r,fastpaths:!1});w.scan=(t,r)=>je(t,r);w.compileRe=(t,r,e=!1,c=!1)=>{if(e===!0)return t.output;let i=r||{},p=i.contains?"":"^",a=i.contains?"":"$",h=`${p}(?:${t.output})${a}`;t&&t.negated===!0&&(h=`^(?!${h}).*$`);let f=w.toRegex(h,r);return c===!0&&(f.state=t),f};w.makeRe=(t,r={},e=!1,c=!1)=>{if(!t||typeof t!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return r.fastpaths!==!1&&(t[0]==="."||t[0]==="*")&&(i.output=Ct.fastpaths(t,r)),i.output||(i=Ct(t,r)),w.compileRe(i,r,e,c)};w.toRegex=(t,r)=>{try{let e=r||{};return new RegExp(t,e.flags||(e.nocase?"i":""))}catch(e){if(r&&r.debug===!0)throw e;return/$^/}};w.constants=tr;zt.exports=w});var Zt=rt((Tr,Wt)=>{"use strict";T();Wt.exports=Vt()});var se=rt((Dr,Ot)=>{T();var cr=st("tty"),pr=!("NO_COLOR"in process.env||process.argv.includes("--no-color"))&&("FORCE_COLOR"in process.env||process.argv.includes("--color")||process.platform==="win32"||cr.isatty(1)&&process.env.TERM!=="dumb"||"CI"in process.env),C=(t,r,e=t)=>c=>{let i=""+c,p=i.indexOf(r,t.length);return~p?t+ee(i,r,e,p)+r:t+i+r},ee=(t,r,e,c)=>{let i=t.substring(0,c)+e,p=t.substring(c+r.length),a=p.indexOf(r);return~a?i+ee(p,r,e,a):i+p},re=(t=pr)=>({isColorSupported:t,reset:t?r=>`\x1B[0m${r}\x1B[0m`:String,bold:t?C("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m"):String,dim:t?C("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"):String,italic:t?C("\x1B[3m","\x1B[23m"):String,underline:t?C("\x1B[4m","\x1B[24m"):String,inverse:t?C("\x1B[7m","\x1B[27m"):String,hidden:t?C("\x1B[8m","\x1B[28m"):String,strikethrough:t?C("\x1B[9m","\x1B[29m"):String,black:t?C("\x1B[30m","\x1B[39m"):String,red:t?C("\x1B[31m","\x1B[39m"):String,green:t?C("\x1B[32m","\x1B[39m"):String,yellow:t?C("\x1B[33m","\x1B[39m"):String,blue:t?C("\x1B[34m","\x1B[39m"):String,magenta:t?C("\x1B[35m","\x1B[39m"):String,cyan:t?C("\x1B[36m","\x1B[39m"):String,white:t?C("\x1B[37m","\x1B[39m"):String,gray:t?C("\x1B[90m","\x1B[39m"):String,bgBlack:t?C("\x1B[40m","\x1B[49m"):String,bgRed:t?C("\x1B[41m","\x1B[49m"):String,bgGreen:t?C("\x1B[42m","\x1B[49m"):String,bgYellow:t?C("\x1B[43m","\x1B[49m"):String,bgBlue:t?C("\x1B[44m","\x1B[49m"):String,bgMagenta:t?C("\x1B[45m","\x1B[49m"):String,bgCyan:t?C("\x1B[46m","\x1B[49m"):String,bgWhite:t?C("\x1B[47m","\x1B[49m"):String});Ot.exports=re();Ot.exports.createColors=re});T();T();var jt=ft(Zt(),1);import{extname as Ir,win32 as rr,posix as Jt,isAbsolute as sr,resolve as nr}from"path";function or(t){return Array.isArray(t)}function Yt(t){return or(t)?t:t==null?[]:[t]}var ot=function(r){return r.split(rr.sep).join(Jt.sep)};function ir(t,r){if(r===!1||sr(t)||t.startsWith("*"))return ot(t);let e=ot(nr(r||"")).replace(/[-^$*+?.()|[\]{}]/g,"\\$&");return Jt.join(e,ot(t))}var te=function(r,e,c){let i=c&&c.resolve,p=f=>f instanceof RegExp?f:{test:x=>{let y=ir(f,i);return(0,jt.default)(y,{dot:!0})(x)}},a=Yt(r).map(p),h=Yt(e).map(p);return function(x){if(typeof x!="string"||/\0/.test(x))return!1;let y=ot(x);for(let A=0;A<h.length;++A)if(h[A].test(y))return!1;for(let A=0;A<a.length;++A)if(a[A].test(y))return!0;return!a.length}},ur="break case class catch const continue debugger default delete do else export extends finally for function if import in instanceof let new return super switch this throw try typeof var void while with yield enum await implements package protected static interface private public",ar="arguments Infinity NaN undefined null true false eval uneval isFinite isNaN parseFloat parseInt decodeURI decodeURIComponent encodeURI encodeURIComponent escape unescape Object Function Boolean Symbol Error EvalError InternalError RangeError ReferenceError SyntaxError TypeError URIError Number Math Date String RegExp Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array Map Set WeakMap WeakSet SIMD ArrayBuffer DataView JSON Promise Generator GeneratorFunction Reflect Proxy Intl",lr=new Set(`${ur} ${ar}`.split(" "));lr.add("");T();var ue=ft(se());import{resolve as ie}from"path";import fr from"chokidar";var hr=process.cwd(),Ht="vite:stylelint",gr={error:"red",warning:"yellow",plugin:"magenta"},ae=t=>t.startsWith("virtual:")||t.startsWith("\0")||!t.includes("/"),ne=(t,r)=>ue.default[gr[r]](t),yr=(t,r,{emitError:e,emitErrorAsWarning:c,emitWarning:i,emitWarningAsError:p},a)=>{r==="error"&&e&&(c?a.warn(t):a.error(t)),r==="warning"&&i&&(p?a.error(t):a.warn(t))},mr=(t,r,{hasPluginName:e=!1,isColorized:c=!1}={})=>{let i=t;e||(i+=`  Plugin: ${ne(Ht,"plugin")}
`),c||(i=ne(i,r)),console.log(i)},oe=(t,r,{hasPluginName:e=!1,isColorized:c=!1,options:i,context:p}={})=>p&&i?yr(t,r,i,p):mr(t,r,{hasPluginName:e,isColorized:c}),le=({cache:t,cacheLocation:r,include:e,exclude:c,stylelintPath:i,formatter:p,lintOnStart:a,chokidar:h,emitError:f,emitErrorAsWarning:x,emitWarning:y,emitWarningAsError:A},{cacheDir:L})=>({cache:t!=null?t:!0,cacheLocation:r!=null?r:ie(L,"vite-plugin-stylelint"),include:e!=null?e:["src/**/*.{css,scss,sass,less,styl,vue,svelte}"],exclude:c!=null?c:["node_modules","virtual:"],stylelintPath:i!=null?i:"stylelint",formatter:p!=null?p:"string",lintOnStart:a!=null?a:!1,chokidar:h!=null?h:!1,emitError:f!=null?f:!0,emitErrorAsWarning:x!=null?x:!1,emitWarning:y!=null?y:!0,emitWarningAsError:A!=null?A:!1}),ce=t=>te(t.include,t.exclude),xr=t=>({...t,allowEmptyInput:!0,cache:t.cache,cacheLocation:t.cacheLocation,files:t.files}),pe=async({stylelintPath:t,formatter:r},e)=>{var c;try{let p=(await Promise.resolve().then(()=>ft(st(t)))).default,a=typeof r=="string"?p.formatters[r]:r;return{stylelint:p,formatter:a}}catch(i){console.log(""),e.error(`${(c=i==null?void 0:i.message)!=null?c:"Failed to import Stylelint. Have you installed and configured correctly?"}`)}},fe=(t,r,e)=>async(c,i,p=!1)=>await t.lint({...xr(e),files:i}).then(async a=>{if(!a)return;a.results.filter(f=>!f.ignored).forEach(f=>{f.warnings.forEach(({severity:x})=>{let y=r([f],a);return!p&&e.chokidar?oe(y,x):oe(y,x,{options:e,context:c})})})}).catch(a=>{var h;console.log(""),c.error(`${(h=a==null?void 0:a.message)!=null?h:a}`)}),he=(t,{include:r,exclude:e},c)=>fr.watch(r,{ignored:e}).on("change",async i=>{let p=ie(hr,i);await t(c,p)});function _r(t={}){let{dev:r=!0,build:e=!0}=t,c,i,p,a,h,f;return{name:Ht,apply(x,{command:y}){return!!(y==="serve"&&r||y==="build"&&e)},configResolved(x){c=le(t,x),i=ce(c)},async buildStart(){if(!p){let x=await pe(c,this);p=x.stylelint,a=x.formatter,h=fe(p,a,c)}c.lintOnStart&&(console.log(""),this.warn("Stylelint is linting all files in the project because `lintOnStart` is true. This will significantly slow down Vite."),await h(this,c.include,!0)),c.chokidar&&(f=he(h,c,this))},async transform(x,y){if(c.chokidar)return null;let A=ot(y).split("?")[0];return!i(A)||ae(y)||await h(this,A),null},async buildEnd(){f!=null&&f.close&&await f.close()},async closeBundle(){f!=null&&f.close&&await f.close()}}}export{_r as default};
